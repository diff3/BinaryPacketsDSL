# SMSG_AUTH_RESPONSE - Partial
endian: little
header:
data:
    auth_ok: bits, 1BI
    realm_count: bits, 21BI

    # --- BITS SECTION ---
    loop €realm_count to €realm_meta_data:
        name_len: bits, 8BI
        normalized_len: bits, 8BI
        is_home: bits, 1BI
        class_count: bits, 23BI
        unk21: bits, 21BI
        flag0: bits, 1BI
        flag1: bits, 1BI
        flag2: bits, 1BI
        flag3: bits, 1BI
        race_count: bits, 23BI
        empty_bit: bits, 1BI
        queued: bits, 1BI
    
    padding 0

    # --- BYTE SECTION ---
    if €realm_meta_data[i].queued > 0:
        queue_pos: I
    
    if €auth_ok:
        loop €realm_count to €realm:

            if €realm_meta_data[i].queued:
                queue_pos: I

            realm_id: I
         
            realm_name: €realm_meta_data[i].name_len's
            normalized_name: €realm_meta_data[i].normalized_len's
            
            loop €realm_meta_data[i].race_count to races:
                expansion: B
                race_id:  B

            loop €realm_meta_data[i].class_count to classes:
                expansion: B
                class_id: B
            
            flag1_int: I
            expansion_active: B
            flag2_int: I
            flag3_int: I
            expansion_server: B
            flag4_int: I
            flag5_int: I
            flag6_int: I

            auth_result: B